#!/bin/bash

python scripts/train_model.py \
    --sw_name existential \
    --sw_variant test \
    --sw_config ~/test \
    --module_stem_num_layers 1 \
    --module_stem_batchnorm 1 \
    --module_stem_kernel_size 3 \
    --module_stem_stride2_freq 0 \
    --module_stem_padding 1 \
    --checkpoint_path ~/test/test.ckpt \
    --model_type FiLM \
    --num_iterations 1000 \
    --print_verbose_every 20000000 \
    --record_loss_every 10 \
    --record_accuracy_10k_every 100 \
    --record_accuracy_every 100 \
    --checkpoint_every 2000 \
    --optimizer Adam \
    --learning_rate 3e-4 \
    --batch_size 8 \
    --use_coords 1 \
    --module_batchnorm 1 \
    --classifier_batchnorm 1 \
    --bidirectional 0 \
    --decoder_type linear \
    --encoder_type gru \
    --weight_decay 1e-5 \
    --rnn_num_layers 1 \
    --rnn_wordvec_dim 32 \
    --rnn_hidden_dim 32 \
    --rnn_output_batchnorm 0 \
    --classifier_downsample maxpoolfull \
    --classifier_proj_dim 32 \
    --classifier_fc_dims 32 \
    --module_input_proj 1 \
    --module_residual 1 \
    --module_dim 32 \
    --module_dropout 0e-2 \
    --module_kernel_size 3 \
    --module_batchnorm_affine 0 \
    --module_num_layers 1 \
    --num_modules 1 \
    --condition_pattern 1 \
    --gamma_option linear \
    --gamma_baseline 1 \
    --use_gamma 1 \
    --use_beta 1 \
    --condition_method bn-film \
    --program_generator_parameter_efficient 1
